<?xml version="1.0" encoding="utf-8"?>
<plugin xmlns="http://www.phonegap.com/ns/plugins/1.0"
	xmlns:android="http://schemas.android.com/apk/res/android"
	id="org.allseen.alljoyn"
	version="0.0.1">
		
	<name>AllJoyn</name>
	<description>Cordova AllJoyn Plugin</description>

	<engines>
		<engine name="cordova" version=">=3.1.0" />
	</engines>

	<js-module src="www/alljoyn.js" name="allJoyn">
		<merges target="allseen.alljoyn" />
	</js-module>

  <hook type="after_plugin_add" src="scripts/afterPluginAdd.js" />

	<!-- android -->
	<platform name="android">
		<config-file target="res/xml/config.xml" parent="/*">
			<feature name="AllJoyn">
				<param name="android-package" value="org.allseen.alljoyn.AllJoyn"/>
				<!--<param name="onload" value="true"/>-->
			</feature>
		</config-file>
				
		<source-file src="src/android/AllJoyn.java" target-dir="src/org/allseen/alljoyn" />
		<source-file src="src/android/alljoyn.jar" target-dir="libs" />    
		<source-file src="src/android/armeabi/liballjoyn_java.so" target-dir="libs/armeabi" />    
	</platform>
   
	<!-- ios -->

	<platform name="ios">
		<config-file target="config.xml" parent="/*">
			<feature name="AllJoyn">
				<param name="ios-package" value="AllJoyn_Cordova" />
				<param name="onload" value="true"/>
			</feature>
		</config-file>

		<framework src="Security.framework" />

		<source-file src="src/ajtcl/src/aj_about.c" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_about.h" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_auth_listener.h" target-dir="." />
		<source-file src="src/ajtcl/src/aj_bufio.c" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_bufio.h" target-dir="." />
		<source-file src="src/ajtcl/src/aj_bus.c" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_bus.h" target-dir="." />
		<source-file src="src/ajtcl/src/aj_cert.c" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_cert.h" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_config.h" target-dir="." />
		<source-file src="src/ajtcl/src/aj_connect.c" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_connect.h" target-dir="." />
		<source-file src="src/ajtcl/src/aj_crc16.c" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_crc16.h" target-dir="." />
		<source-file src="src/ajtcl/src/aj_creds.c" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_creds.h" target-dir="." />
		<source-file src="src/ajtcl/src/aj_crypto.c" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_crypto.h" target-dir="." />
		<source-file src="src/ajtcl/crypto/ecc/aj_crypto_ecc.c" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_crypto_ecc.h" target-dir="." />
		<source-file src="src/ajtcl/crypto/ecc/aj_crypto_sha2.c" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_crypto_sha2.h" target-dir="." />
		<source-file src="src/ajtcl/src/aj_debug.c" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_debug.h" target-dir="." />
		<source-file src="src/ajtcl/src/aj_disco.c" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_disco.h" target-dir="." />
		<source-file src="src/ajtcl/src/aj_guid.c" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_guid.h" target-dir="." />
		<source-file src="src/ajtcl/src/aj_helper.c" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_helper.h" target-dir="." />
		<source-file src="src/ajtcl/src/aj_init.c" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_init.h" target-dir="." />
		<source-file src="src/ajtcl/src/aj_introspect.c" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_introspect.h" target-dir="." />
		<source-file src="src/ajtcl/src/aj_keyauthentication.c" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_keyauthentication.h" target-dir="." />
		<source-file src="src/ajtcl/src/aj_keyexchange.c" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_keyexchange.h" target-dir="." />
		<source-file src="src/ajtcl/src/aj_link_timeout.c" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_link_timeout.h" target-dir="." />
		<source-file src="src/ajtcl/src/aj_msg.c" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_msg.h" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_msg_priv.h" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_net.h" target-dir="." />
		<source-file src="src/ajtcl/src/aj_nvram.c" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_nvram.h" target-dir="." />
		<source-file src="src/ajtcl/src/aj_peer.c" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_peer.h" target-dir="." />
		<source-file src="src/ajtcl/src/aj_serial.c" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_serial.h" target-dir="." />
		<source-file src="src/ajtcl/src/aj_serial_rx.c" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_serial_rx.h" target-dir="." />
		<source-file src="src/ajtcl/src/aj_serial_tx.c" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_serial_tx.h" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_serio.h" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_status.h" target-dir="." />
		<source-file src="src/ajtcl/src/aj_std.c" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_std.h" target-dir="." />
		<source-file src="src/ajtcl/src/aj_util.c" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_util.h" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_version.h" target-dir="." />
		<header-file src="src/ajtcl/inc/aj_wifi_ctrl.h" target-dir="." />
		<header-file src="src/ajtcl/inc/alljoyn.h" target-dir="." />
		<source-file src="src/ajtcl/external/sha2/sha2.c" target-dir="." />
		<header-file src="src/ajtcl/external/sha2/sha2.h" target-dir="." />

		<source-file src="src/ios/aj_net.c" target-dir="." />
		<source-file src="src/ios/aj_sw_crypto.c" target-dir="." />
		<source-file src="src/ios/aj_target_nvram.c" target-dir="." />
		<header-file src="src/ios/aj_target_nvram.h" target-dir="." />
		<source-file src="src/ios/aj_target_serial.c" target-dir="." />
		<source-file src="src/ios/aj_target_util.c" target-dir="." />
		<header-file src="src/ios/aj_target.h" target-dir="." />

		<header-file src="src/ios/AllJoyn_Cordova.h" target-dir="." />
		<source-file src="src/ios/AllJoyn_Cordova.m" target-dir="." />

    <hook type="after_plugin_install" src="scripts/iOSAfterPluginInstall.js" />
	</platform>

	<!-- windows8 -->
	<platform name="windows8">
		<js-module src="src/windows8/AllJoynProxy.js" name="AllJoynProxy">
			<merges target="" />
		</js-module>
		<!--
		<framework src="src/windows8/AllJoynWinRTComponent.winmd" custom="true"/>-->
		 <framework src="src/windows8/AllJoynWinRTComponent/AllJoynWinRTComponent.vcxproj" custom="true" type="projectReference"/>
	</platform>

	<!-- wp8 -->
	<platform name="wp8">
		<config-file target="config.xml" parent="/*">
			<feature name="AllJoyn">
				<param name="wp-package" value="AllJoyn"/>
				<param name="onload" value="true"/>
			</feature>
		</config-file>

		<source-file src="src/wp/AllJoyn.cs" />
	</platform>
	
</plugin>
